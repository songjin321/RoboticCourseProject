# ground-vr
基于VR的无人机机械臂项目的地面站部分，主要实现以下功能：
* 利用tcp协议接受zed相机传回来的图像，在vr中显示出来
* 利用udp协议将键盘的操作指令传送给飞机，控制飞机运动
* 读取力反馈装置的末端输入，通过逆运动学得到舵机的转角，再利用udp协议将转角值传给飞机

# 安装依赖的第三方库
- opencv
- glew
- sdl
- oculusSDK
- chai

# 运行示例
## 运行环境配置
保证地面站程序和小电脑上的程序运行在同一个局域网下，设置小电脑的ip地址为：<br>
> 192.168.1.211
- 小电脑上连接zed相机
- 地面站上连接vr装置，运行Oculus程序，使vr环境ok。
- 在地面站上将力反馈装置连接好

配置好环境后，先运行小电脑上的程序，再运行地面站程序。

## 操作说明
**w,a,s,d** 键控制飞机前后左右的运动<br>
**u,j** 键控制飞机的上下运动 <br>
**g** 键控制飞机上机械臂的抓取 <br>


# 报错的解决办法
vr连接后黑屏：保证将vr和显示器全部都连接到独立显卡的输出上
程序运行后白屏无输出，将头显带上运动一会，使头显上的进度条跑满后就有输出了。

机械臂没有反应，把机械臂的连接线全部插拔一下

先关gs_convert,再关地面端，最后关vr_zed
# 整体框架
小电脑的ip地址比较好固定，设置小电脑作为服务器端。
小电脑上运行两个服务器端程序，一个是传输zed捕捉的双目图像，另一个接受地面站的指令。


